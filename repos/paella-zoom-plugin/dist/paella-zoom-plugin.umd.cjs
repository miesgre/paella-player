(function(d,z){typeof exports=="object"&&typeof module<"u"?z(exports):typeof define=="function"&&define.amd?define(["exports"],z):(d=typeof globalThis<"u"?globalThis:d||self,z(d["paella-zoom-plugin"]={}))})(this,function(d){"use strict";var z=n=>{throw TypeError(n)},H=(n,e,t)=>e.has(n)||z("Cannot "+t),l=(n,e,t)=>(H(n,e,"read from private field"),t?t.call(n):e.get(n)),T=(n,e,t)=>e.has(n)?z("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),S=(n,e,t,s)=>(H(n,e,"write to private field"),e.set(n,t),t);function Q(n,{excludedTags:e=null}={}){const t=document.createElement("div");t.innerHTML=n;const s=["script"];return e&&s.push(...e),s.flatMap(i=>Array.from(t.getElementsByTagName(i))).forEach(i=>{i.parentElement.removeChild(i)}),t.innerHTML}var E;let x=class{constructor(e){T(this,E,null),S(this,E,e)}get player(){return l(this,E)}};E=new WeakMap;function ee({tag:n="div",attributes:e={},children:t="",innerText:s="",parent:i=null}){const o=document.createElement(n);o.innerText=s;for(let h in e)o.setAttribute(h,e[h]);return o.innerHTML=t,i&&i.appendChild(o),o}function P(n,e=null){const t=document.createElement("div");t.innerHTML=n;const s=t.children[0];return e&&e.appendChild(s),s}var v;class te extends x{constructor(e,{tag:t="div",attributes:s=[],children:i="",parent:o=null}){super(e),T(this,v,null),S(this,v,ee({tag:t,attributes:s,children:i,parent:o})),Object.defineProperty(this,t,{get:()=>l(this,v)})}get element(){return l(this,v)}get parent(){return l(this,v).parentElement}hide(){this.element.style.display="none"}show(e="block"){this.element.style.display=null}get isVisible(){const e=window.getComputedStyle(this.element);return e.display!=="none"&&e.display!==""}setAttribute(e,t){l(this,v).setAttribute(e,t)}removeFromParent(){var e;(e=l(this,v).parentElement)==null||e.removeChild(l(this,v))}setParent(e){this.removeFromParent(),e.appendChild(l(this,v))}}v=new WeakMap;class N extends x{constructor(e,t){super(e),this._name=t}getPluginModuleInstance(){return null}get config(){return this._config}get type(){return"none"}get order(){var e;return((e=this._config)==null?void 0:e.order)||0}get description(){var e;return((e=this._config)==null?void 0:e.description)||""}get name(){return this._name}async isEnabled(){var e;return(e=this.config)==null?void 0:e.enabled}async load(){}async unload(){}}class ne extends x{get moduleName(){return this.player.log.warn(`Incomplete player module definition: '${__filename}.moduleName'`),"-"}get moduleVersion(){return this.player.log.warn(`Incomplete player module definition: '${__filename}.moduleVersion'`),"0.0.0"}async getDictionaries(){return null}}class R extends N{constructor(e,t,s){super(e,t,s),this.__uiPlugin=!0}async getDictionaries(){return null}}const j=()=>{const n=document.createElement("span");return n.classList.add("side-container"),n.classList.add("hidden"),n};class se{onIconChanged(e,t,s){}onTitleChanged(e,t,s){}onStateChanged(e,t,s,i,o){}}var I,w,M;class k extends R{constructor(){super(...arguments),T(this,I,null),T(this,w,null),T(this,M,[])}get type(){return"button"}get container(){return this._container}get button(){return this._button}get interactive(){return!0}get dynamicWidth(){return!1}getId(){return null}get id(){return this.config.id||this.getId()}getButtonName(){return null}get buttonName(){return this.config.name||this.getButtonName()||this.name}get ariaLabel(){return this.config.ariaLabel||this.getAriaLabel()}getAriaLabel(){return""}get tabIndex(){return this.config.tabIndex||this.getTabIndex()}getTabIndex(){return null}getDescription(){return""}get description(){return this.config.description||this.getDescription()}get minContainerSize(){return this.config.minContainerSize||this.getMinContainerSize()}getMinContainerSize(){return 0}setObserver(e){if(e instanceof se)this._observer=e;else if(typeof e.onIconChanged=="function"||typeof e.onTitleChanged=="function"||typeof e.onStateChanged=="function")this._observer=e;else throw new Error("Invalid observer for ButtonPlugin")}get icon(){return this._icon||(this._icon=""),this._icon}set icon(e){var t;if(typeof e=="string"&&(e=Q(e)),this._icon=e,e&&this._button instanceof HTMLElement){const s=this._button.querySelector("i")||P("<i></i>",this._button);s.innerHTML=e}else if(this._button instanceof HTMLElement){const s=this._button.querySelector("i");s&&this._button.removeChild(s)}(t=this._observer)!=null&&t.onIconChanged&&this._observer.onIconChanged(this,this._icon,e)}get title(){return this._title||""}set title(e){var t;if(this._title=e,e&&this._button instanceof HTMLElement){const s=this._button.querySelector("span")||P(`<span class="button-title-${this.titleSize}"></span>`,this._button);s.innerHTML=e}else if(this._button instanceof HTMLElement){const s=this._button.querySelector("span");s&&this._button.removeChild(s)}(t=this._observer)!=null&&t.onTitleChanged&&this._observer.onTitleChanged(this,this._title,e)}get titleSize(){return"medium"}get side(){var e;return((e=this.config)==null?void 0:e.side)||"left"}get closePopUps(){return this.config.closePopUps||this.getClosePopUps()}getClosePopUps(){return!0}get parentContainer(){var e;return((e=this.config)==null?void 0:e.parentContainer)||"playbackBar"}get className(){return""}enable(){this._enabled=!0,this.show()}disable(){this._enabled=!1,this.hide()}hide(){this._button&&(this._button.style.display="none")}show(){if(this._enabled===!1)return;const{width:e}=this.player.playbackBar.containerSize;this._button&&(e>this.minContainerSize||this.parentContainer!=="playbackBar")&&(this._button.style.display=null)}get leftSideContainer(){return l(this,I)||(S(this,I,j()),this.container.appendChild(l(this,I))),l(this,I)}get leftSideContainerPresent(){return l(this,I)!==null}get rightSideContainer(){return l(this,w)||(S(this,w,j()),this.container.appendChild(l(this,w))),l(this,w)}get rightSideContainerPresent(){return l(this,w)!==null}get stateText(){return null}get stateIcon(){return null}setState({text:e=null,icon:t=null}={}){var s,i;const o=this._statusText,h=this._statusIcon;this._statusText=e,this._statusIcon=t,l(this,M).forEach(r=>r(this)),this._statusIcon&&(this.icon=this._statusIcon),this._statusText&&(this.title=this._statusText),(i=(s=this._observer)==null?void 0:s.onStateChanged)==null||i.call(s,this,o,e,h,t)}onStateChange(e){typeof e=="function"?l(this,M).push(e):this.player.log.warn("Invalid callback for ButtonPlugin.onStateChange")}async action(e,t=null){}onResize({width:e,height:t}){e<this.minContainerSize?this.hide():this.show()}focus(){var e;(e=this.button)==null||e.focus()}blur(){var e;(e=this.button)==null||e.blur()}isFocus(){return this.button===document.activeElement}}I=new WeakMap,w=new WeakMap,M=new WeakMap;class W extends R{get type(){return"canvasButton"}get content(){return this._config.content||["presenter"]}get ariaLabel(){return this._config.ariaLabel||this.getAriaLabel()}getAriaLabel(){return""}get tabIndex(){return this.config.tabIndex}get description(){return this.config.description||this.getDescription()}getDescription(){return""}get icon(){return this._icon}set icon(e){this._icon=e}get side(){var e;return((e=this.config)==null?void 0:e.side)||"left"}get buttonName(){return this.name}get position(){switch(this.side){case"left":return U.LEFT;case"center":return U.CENTER;case"right":return U.RIGHT;default:throw new Error(`Invalid CanvasButtonPlugin side set: ${this.side}`)}}async action(e){this.player.log.warn(`Action not implemented in canvas button plugin ${this.name}`)}}const U=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"});class ie extends te{constructor(e,t,s){super(t,{tag:e,parent:s}),this.element.className="video-canvas",this._userArea=null,this._buttonsArea=P(`
        <div class="button-area">
        </div>
        `,this.element)}async loadCanvas(e){throw Error(`${this.name}: loadCanvas() not implemented`)}get userArea(){return this._userArea||(this._userArea=document.createElement("div"),this._userArea.className="user-area",this.element.appendChild(this._userArea)),this._userArea}get buttonsArea(){return this._buttonsArea}showButtons(){this.buttonsArea.style.display=null}hideButtons(){this.buttonsArea.style.display="none"}}class oe extends N{get type(){return"canvas"}get canvasType(){return""}isCompatible(e){return Array.isArray(e==null?void 0:e.canvas)?e.canvas.indexOf(this.canvasType)!==-1:e.canvas===this.canvasType}getCanvasInstance(e){throw Error(`${this.name} canvas plugin: getCanvasInstance() not implemented`)}}class ae extends k{constructor(){super(...arguments),this._refreshContent=!0}set refreshContent(e){this._refreshContent=e}get refreshContent(){return this._refreshContent}get closeParentPopUp(){return this.config.closeParentPopUp||this.getCloseParentPopUp()}getCloseParentPopUp(){return!1}async action(e,t){super.action(e,t),this.parentPopUp=t,await this.showPopUp()}get parentPopUp(){return this._parentPopUp}set parentPopUp(e){this._parentPopUp=e}get popUp(){return this._popUp}get menuTitle(){return this.config.menuTitle||null}get moveable(){return this.config.moveable??!1}get resizeable(){return this.config.resizeable??!1}get customPopUpClass(){return this.config.customPopUpClass??""}get closeActions(){var e,t;const s=((e=this.config.closeActions)==null?void 0:e.clickOutside)??!0,i=((t=this.config.closeActions)==null?void 0:t.closeButton)??!1;return{clickOutside:s,closeButton:i}}get currentContent(){return this._currentContent}async getContent(){return P("<p>Pop Up Button Plugin Content</p>")}async checkRefreshContent(){if(this.refreshContent){const e=await this.getContent();this._currentContent.innerHTML="",Array.from(e.children).forEach(t=>this._currentContent.appendChild(t))}}get popUpType(){return this.config.popUpType||"modal"}hidePopUp(){this.player.playbackBar.popUp.isHidden||this.player.playbackBar.popUp.hide()}async showPopUp(){this._keyEventHandler||(this._keyEventHandler=t=>{t.key==="Escape"&&this.hidePopUp()},this.button.addEventListener("keydown",this._keyEventHandler));const e=this.player.playbackBar.popUp;if(e.isHidden||this._contentId!==e.currentContentId){const t=await this.getContent();this._currentContent=t,this._contentId=e.show({title:this.menuTitle||this.description,content:t,attachRight:this.popUpType==="timeline"||this.side==="right",attachLeft:this.popUpType==="timeline"||this.side==="left",parent:this.parentPopUp})}else e.hide()}}const re=n=>n?`<span class="menu-title">${n}</span>`:"",le=n=>n?`<i class="menu-icon">${n}</i>`:"",ue=n=>n?`aria-label="${n}"`:"",ce=n=>n?`<span class="state-text">${n}</span>`:"",he=n=>n?`<i class="state-icon">${n}</i>`:"",de=(n,e)=>n||e?`<span class="button-state">${ce(n)}${he(e)}</span>`:"";function pe(n,e,t,s,i,o,h){const{id:r=0,title:u=null,icon:_=null,showTitle:a=!0,stateText:y=null,stateIcon:m=null}=n,p=this,D=document.createElement("li"),we=o[r]??!1,L=P(`
		<button class="menu-button-item${we?" selected":""}" ${ue(u)} data-id="${r}"" id="${p.name}_menuItem_${r}">
			${le(_)}
			${a?re(u):""}
			${y||m?de(y,m):""}
		</button>
	`);return h&&(h._button=L),L.addEventListener("keydown",g=>{var Z;const f=()=>{g.stopPropagation(),g.preventDefault()};if(g.key==="ArrowUp"){const c=L.dataPrev;c==null||c.focus(),f()}else if(g.key==="ArrowDown"){const c=L.dataNext;c==null||c.focus(),f()}else if(g.key==="Tab"){const c=g.shiftKey?g.target.dataPrev:g.target.dataNext;c==null||c.focus(),f()}else g.key==="Escape"&&(this.player.playbackBar.popUp.pop()?(Z=p.button)==null||Z.focus():this.focus(),f())}),L.addEventListener("click",async g=>{var Z;if(e==="check"){const f=s.find(c=>c.id===r);o[r]=!o[r],p.itemSelected(f,s)}else if(e==="radio"){o[r]=!0;let f=null;s.forEach(c=>{c.id===r?f=c:o[c.id]=!1}),p.itemSelected(f,s)}else{const f=s.find(c=>c.id===r);p.itemSelected(f,s)}await p.checkRefreshContent(),g.stopPropagation(),p.closeOnSelect&&(p.closeMenu(),(Z=p.button)==null||Z.focus())}),D.appendChild(L),t.appendChild(D),D}class me extends ae{get closeOnSelect(){return this.config.closeOnSelect===void 0&&(this.buttonType!=="check"?this.config.closeOnSelect=!0:this.config.closeOnSelect=!1),this.config.closeOnSelect}setSelected(e,t){this._selectedItems&&(this._selectedItems[e]=t)}async getContent(){var e,t;const s=(e=document.activeElement)==null?void 0:e.id,i=P("<menu></menu>");this._content=i;const o=await this.getMenu();this._menuItems=o,this._selectedItems||(this._selectedItems={},this._menuItems.forEach(u=>{u.selected!==void 0&&u.selected!==null&&(this._selectedItems[u.id]=u.selected)}));const h=self.crypto.randomUUID(),r=o.map(u=>pe.apply(this,[u,typeof this.buttonType=="function"?this.buttonType():this.buttonType,i,o,h,this._selectedItems,u.plugin]));return r.forEach((u,_,a)=>{const y=u.querySelector("button");let m=a[_+1],p=a[_-1];_===a.length-1&&(m=a[0]),_===0&&(p=a[a.length-1]),y.dataNext=m==null?void 0:m.querySelector("button"),y.dataPrev=p==null?void 0:p.querySelector("button")}),this._firstItem=(t=r[0])==null?void 0:t.querySelector("button"),s&&setTimeout(()=>{var u;(u=document.getElementById(s))==null||u.focus()},10),i}get menuTitle(){return this.config.menuTitle||null}async getMenu(){return[{id:0,title:"Option 1"},{id:1,title:"Option 2"},{id:2,title:"Option 3"},{id:3,title:"Option 4"},{id:4,title:"Option 5"}]}get menuItems(){return this._menuItems}get showTitles(){return!0}get buttonType(){return"radio"}itemSelected(e,t){this.player.log.warn(`MenuButtonPlugin (${this.name}): itemSelected() function not implemented.`)}closeMenu(){this.player.playbackBar.popUp.hide()}async showPopUp(){this.refreshContent=!0,await super.showPopUp(),this.player.containsFocus&&this._firstItem&&this._firstItem.focus()}}Object.freeze({DISABLED:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,VERBOSE:5}).INFO;const G={name:"@asicupv/paella-zoom-plugin",version:"2.0.0",description:"A plugin to zoom videos for Paella Player",exports:{".":"./dist/paella-zoom-plugin.js","./src/":"./src/"},main:"./dist/paella-zoom-plugin.js",type:"module",module:"./dist/paella-zoom-plugin.js",files:["dist/paella-zoom-plugin.js","dist/paella-zoom-plugin.js.map","dist/paella-zoom-plugin.umd.cjs","dist/paella-zoom-plugin.umd.cjs.map"],scripts:{dev:"vite build --watch",build:"vite build --emptyOutDir"},repository:{type:"git",url:"git+https://github.com/polimediaupv/paella-zoom-plugin.git"},keywords:["paella","player","zoom","slide","presentation","blackboard","whiteboard"],author:"Fernando Serrano Carpena <ferserc1@gmail.com>",license:"SEE LICENSE IN license.txt",bugs:{url:"https://github.com/polimediaupv/paella-zoom-plugin/issues"},homepage:"https://github.com/polimediaupv/paella-zoom-plugin#readme",devDependencies:{vite:"^6.0.11"},dependencies:{"@asicupv/paella-core":"^2.0.0"}},ge={de:{"Zoom in":"Zoom in","Zoom out":"Zoom out","Show video zoom options":"Zoom-Optionen anzeigen","Use Alt+Scroll to zoom":"Zum Zoomen Alt+Rollen drücken"},en:{"Zoom in":"Zoom in","Zoom out":"Zoom out","Show video zoom options":"Show video zoom options","Use Alt+Scroll to zoom":"Use Alt+Scroll to zoom"},es:{"Zoom in":"Ampliar zoom del vídeo","Zoom out":"Reducir zoom de vídeo","Show video zoom options":"Mostrar opciones de zoom de vídeo","Use Alt+Scroll to zoom":"Usar Alt+Desplazamiento para hacer zoom"}};let O=null;class b extends ne{static Get(){return O||(O=new b),O}get moduleName(){return G.name}get moduleVersion(){return G.version}async getDictionaries(){return ge}}function B(n,e,t){const s={w:n.offsetWidth,h:n.offsetHeight},i={left:s.w/2,top:s.h/2};e.style.width=`${t*100}%`,e.style.height=`${t*100}%`;const o={left:e.offsetLeft,top:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight},h={left:o.w/2,top:o.h/2},r={left:h.left-i.left,top:h.top-i.top};return t==1?(e.style.left="0px",e.style.top="0px",r.left=i.left,r.top=i.top):(e.style.left=`-${r.left}px`,e.style.top=`-${r.top}px`),r}function fe(n,e,t){const s={left:e.left+t.left,top:e.top+t.top},i=n.parentElement;return n.style.top=`-${s.top}px`,n.offsetHeight+n.offsetTop-i.offsetHeight<0&&(s.top=e.top),n.style.left=`-${s.left}px`,n.offsetWidth+n.offsetLeft-i.offsetWidth<0&&(s.left=e.left),s}class C extends ie{constructor(e,t,s){super("div",e,t),this.config=s,this._maxZoom=this.config.maxZoom||4,this._showButtons=this.config.showButtons!==void 0?this.config.showButtons:!0}async loadCanvas(e){this.currentZoom=1,this._videoPlayer=e,e.element.style.width="100%",e.element.style.height="100%",e.element.style.position="absolute",e.element.style.top="0",e.element.style.left="0",this.element.style.overflow="hidden",this.element.style.position="relative";const t=a=>{if(a.stopPropagation(),!a.altKey){this.showAltKeyMessage();return}this.hideAltKeyMessage();const y=a.deltaY!==void 0?a.deltaY*.1:a.detail*4,m=this.currentZoom+y*-.01;m>1&&m<=this._maxZoom?(this.currentZoom=m,this._playerCenter=B(this.element,this._videoPlayer.element,this.currentZoom)):m<=1&&(this.currentZoom=1,this._playerCenter=B(this.element,this._videoPlayer.element,this.currentZoom)),a.preventDefault()};this.element.addEventListener("DOMMouseScroll",t),this.element.addEventListener("mousewheel",t);let s=!1,i=!1,o=null;const h=()=>s=!0,r=()=>s=!1,u=a=>{i&&(a.stopPropagation(),a.preventDefault())};this.element.addEventListener("mousedown",h),this.element.addEventListener("mouseleave",r),this.element.addEventListener("mouseup",r),this.element.addEventListener("click",u),this.element.addEventListener("mouseup",u),this.element.addEventListener("mousemove",a=>{if(s&&this._playerCenter){o===null&&(o={left:a.clientX,top:a.clientY}),i=!0;const y={left:o.left-a.clientX,top:o.top-a.clientY};this.currentZoom==1?this._playerCenter={left:0,top:0}:this._playerCenter=fe(this._videoPlayer.element,this._playerCenter,y),o={left:a.clientX,top:a.clientY}}else i=!1,o=null});const _=this.player.translate("Use Alt+Scroll to zoom");this._zoomMessage=P(`
            <div class="zoom-message">${_}</div>
        `,this.element),this._zoomMessage.style.display="none"}showAltKeyMessage(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._zoomMessage.style.display="",this._hideTimeout=setTimeout(()=>{this.hideAltKeyMessage()},2e3)}hideAltKeyMessage(){this._zoomMessage.style.display="none",this._hideTimeout=null}zoomIn(){const e=this.currentZoom*1.1;e<this._maxZoom&&(this.currentZoom=e,this._playerCenter=B(this.element,this._videoPlayer.element,this.currentZoom))}zoomOut(){const e=this.currentZoom*.9;e>=1&&(this.currentZoom=e,this._playerCenter=B(this.element,this._videoPlayer.element,this.currentZoom))}}let q=class extends oe{getPluginModuleInstance(){return b.Get()}get name(){return super.name||"es.upv.paella.zoomPlugin"}get canvasType(){return"video"}isCompatible(e){return!Array.isArray(e.canvas)||e.canvas.length===0?!0:super.isCompatible(e)}getCanvasInstance(e){return new C(this.player,e,this.config)}};const A=`<svg width="100%" height="100%" viewBox="0 0 32 32" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
    <path d="M17.094,18.048C15.976,18.956 14.551,19.5 13,19.5C9.413,19.5 6.5,16.587 6.5,13C6.5,9.413 9.413,6.5 13,6.5C16.587,6.5 19.5,9.413 19.5,13C19.5,14.522 18.976,15.923 18.098,17.031L19.553,18.487C20.094,17.958 20.962,17.962 21.498,18.498L25.522,22.522C26.062,23.062 26.062,23.938 25.522,24.478L24.519,25.481C23.98,26.02 23.103,26.02 22.563,25.481L18.539,21.457C18,20.917 18,20.041 18.539,19.501L18.543,19.497L17.094,18.048ZM13,8C15.76,8 18,10.24 18,13C18,15.76 15.76,18 13,18C10.24,18 8,15.76 8,13C8,10.24 10.24,8 13,8ZM13.927,11.886L15.927,11.886L15.927,13.886L13.927,13.886L13.927,15.886L11.927,15.886L11.927,13.886L9.927,13.886L9.927,11.886L11.927,11.886L11.927,9.886L13.927,9.886L13.927,11.886Z"/>
</svg>`;let F=class extends k{getPluginModuleInstance(){return b.Get()}get name(){return super.name||"es.upv.paella.zoomInButtonPlugin"}getAriaLabel(){return"Zoom in"}getDescription(){return this.getAriaLabel()}async isEnabled(){return await super.isEnabled()?(this.target=this.config.target,this._canvas=this.player.videoContainer.streamProvider.streams[this.target].canvas,this._canvas instanceof C):!1}async load(){this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||A}async action(){this._canvas.zoomIn()}};const $=`<svg width="100%" height="100%" viewBox="0 0 32 32" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
    <path d="M17.094,18.048C15.976,18.956 14.551,19.5 13,19.5C9.413,19.5 6.5,16.587 6.5,13C6.5,9.413 9.413,6.5 13,6.5C16.587,6.5 19.5,9.413 19.5,13C19.5,14.522 18.976,15.923 18.098,17.031L19.553,18.487C20.094,17.958 20.962,17.962 21.498,18.498L25.522,22.522C26.062,23.062 26.062,23.938 25.522,24.478L24.519,25.481C23.98,26.02 23.103,26.02 22.563,25.481L18.539,21.457C18,20.917 18,20.041 18.539,19.501L18.543,19.497L17.094,18.048ZM13,8C15.76,8 18,10.24 18,13C18,15.76 15.76,18 13,18C10.24,18 8,15.76 8,13C8,10.24 10.24,8 13,8ZM9.927,11.886L15.927,11.886L15.927,13.886L9.927,13.886L9.927,11.886Z"/>
</svg>`;let K=class extends k{getPluginModuleInstance(){return b.Get()}get name(){return super.name||"es.upv.paella.zoomOutButtonPlugin"}getAriaLabel(){return"Zoom out"}getDescription(){return this.getAriaLabel()}async isEnabled(){return await super.isEnabled()?(this.target=this.config.target,this._canvas=this.player.videoContainer.streamProvider.streams[this.target].canvas,this._canvas instanceof C):!1}async load(){this.icon=this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||$}async action(){this._canvas.zoomOut()}},V=class extends me{getPluginModuleInstance(){return b.Get()}get name(){return super.name||"es.upv.paella.zoomMenuButtonPlugin"}getAriaLabel(){return"Show video zoom options"}getDescription(){return this.getAriaLabel()}async isEnabled(){return await super.isEnabled()?(this._target=this.config.target||"presenter",this._canvas=this.player.videoContainer.streamProvider.streams[this._target].canvas,this._canvas instanceof C):!1}async load(){this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||A}async getMenu(){return[{id:"in",title:"Zoom in",icon:this.player.getCustomPluginIcon(this.name,"zoomInIcon")||A},{id:"out",title:"Zoom out",icon:this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||$}]}get buttonType(){return"button"}get showTitles(){return!1}itemSelected(e){switch(e.id){case"in":this._canvas.zoomIn();break;case"out":this._canvas.zoomOut();break}}},Y=class extends W{getPluginModuleInstance(){return b.Get()}get name(){return super.name||"es.upv.paella.canvasZoomInButtonPlugin"}async isEnabled(){if(!await super.isEnabled())return!1;let e=!1;this._streams=this.player.videoContainer.streamProvider.streams;for(const t in this._streams)e||(e=this._streams[t].canvas instanceof C);return e}async load(){this.icon=this.player.getCustomPluginIcon(this.name,"zoomInIcon")||A}async action(e,t,s,i){s instanceof C&&s.zoomIn()}},X=class extends W{getPluginModuleInstance(){return b.Get()}get name(){return super.name||"es.upv.paella.canvasZoomOutButtonPlugin"}async isEnabled(){if(!await super.isEnabled())return!1;let e=!1;this._streams=this.player.videoContainer.streamProvider.streams;for(const t in this._streams)e||(e=this._streams[t].canvas instanceof C);return e}async load(){this.icon=this.player.getCustomPluginIcon(this.name,"zoomOutIcon")||$}async action(e,t,s,i){s instanceof C&&s.zoomOut()}};const J=[{plugin:q,config:{enabled:!1}},{plugin:F,config:{enabled:!1}},{plugin:K,config:{enabled:!1}},{plugin:V,config:{enabled:!1}},{plugin:Y,config:{enabled:!1}},{plugin:X,config:{enabled:!1}}],ve=J,ye=q,be=F,Ce=K,_e=V,Pe=Y,Ie=X;d.CanvasZoomInButtonPlugin=Pe,d.CanvasZoomOutButtonPlugin=Ie,d.ZoomCanvasPlugin=ye,d.ZoomInButtonPlugin=be,d.ZoomMenuButtonPlugin=_e,d.ZoomOutButtonPlugin=Ce,d.allPlugins=ve,d.zoomPlugins=J,Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=paella-zoom-plugin.umd.cjs.map
